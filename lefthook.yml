# EXAMPLE USAGE:
#
#   Refer for explanation to following link:
#   https://github.com/evilmartians/lefthook/blob/master/docs/configuration.md
#
 pre-push:
   commands:
     secretlint:
       glob: "*"
       run: docker run -v `pwd`:`pwd` -w `pwd` --rm -it secretlint/secretlint secretlint "**/*"

 pre-commit:
   parallel: true
   commands:
     gofmt:
       glob: "*.go"
       run: |
         for file in {staged_files}; do
           go fmt $file
         done
     govet:
       glob: "*.go"
       run: |
         for file in {staged_files}; do
           go vet $file
         done
     actionlint:
       glob: ".github/workflows/*.yml"
       run: |
         for file in {staged_files}; do
           cat $file | docker run --rm -i rhysd/actionlint:latest -color -
         done
     sql_format:
      glob: "*.sql"
      run: |
        for file in {staged_files}; do
          pnpm exec sql-formatter -l postgresql $file
        done
